# load a package from $WORK directory.
loadpkg gno.land/r/foobar/bar $WORK/bar

## start a new node
gnoland start

## execute run
gnokey maketx run -gas-fee 1000000ugnot -gas-wanted 2000000 -broadcast -chainid=tendermint_test test1 $WORK/script/script.gno

## compare output
stdout 'main: --- hello from foo ---'
stdout 'OK!'
stdout 'GAS WANTED: 200000'
stdout 'GAS USED: '

## execute render
gnokey query vm/qrender --data "gno.land/r/foobar/bar\n"
stdout 'hello from foo'

-- bar/bar.gno --
package bar

func Render(path string) string {
 	return "hello from foo"
}

-- script/script.gno --
package main

import "gno.land/r/foobar/bar"

func main() {
	println("main: ---", bar.Render(""), "---")
}
