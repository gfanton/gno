(()=>{class s{DOM;constructor(){this.DOM={el:document.querySelector("main"),btnClicked:null},this.DOM.el&&this.init()}init(){this.bindEvents()}bindEvents(){this.DOM.el?.addEventListener("click",this.handleClick.bind(this))}handleClick(e){let n=e.target.closest("[data-copy-btn]");if(!n)return;this.DOM.btnClicked=n;let i=n.getAttribute("data-copy-btn");if(!i)return;let o=this.DOM.el?.querySelector(`[data-copy-content="${i}"]`);o&&this.copyToClipboard(o)}sanitizeContent(e){let t=e.cloneNode(!0);return t.querySelectorAll(".chroma-ln").forEach(n=>n.remove()),t.textContent?.trim()||""}showFeedback(e){if(!this.DOM.btnClicked)return;let t=e?"text-green-600":"";this.DOM.btnClicked.classList.add(t),window.setTimeout(()=>{this.DOM.btnClicked?.classList.remove(t)},1500)}async copyToClipboard(e){let t=this.sanitizeContent(e);try{await navigator.clipboard.writeText(t),this.showFeedback(!0)}catch(n){console.error("Copy error: ",n),this.showFeedback(!1)}}}document.addEventListener("DOMContentLoaded",()=>new s)})();
